{"version":3,"file":"peak15link-ajax-bookings.min.js","sources":["peak15link-ajax-bookings.min.js"],"sourcesContent":["(function(){function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c=\"function\"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);var a=new Error(\"Cannot find module '\"+i+\"'\");throw a.code=\"MODULE_NOT_FOUND\",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(r){var n=e[i][1][r];return o(n||r)},p,p.exports,r,e,n,t)}return n[i].exports}for(var u=\"function\"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}return r})()({1:[function(require,module,exports){\n\"use strict\";\n\njQuery(document).ready(function () {\n  var bookingForm = jQuery(\"#bookingForm\");\n  var dataUrl = jQuery(\"#bookingForm\").data(\"url\");\n  var tourSelect = jQuery(\"#tourSelect\");\n  var departureGroup = jQuery(\"#departureGroup\");\n  var depList = jQuery(\"#departureList\");\n  var departureInfo = jQuery(\"#departureInfo\");\n  var departureNotices = jQuery(\"#departureNotices\");\n  var depInfoPillion = jQuery(\"#pillionFriendly\");\n  var tripPriceInfo = jQuery(\"#tripPriceInfo\");\n  var mainGuestExtras = jQuery(\"#mainGuestExtras\");\n  var guestFormContainer = jQuery(\"#additionalGuests\");\n  var guestFormNotices = jQuery(\"#guestFormNotices\");\n  var addGuest = jQuery(\"#addGuest\");\n  var formNextBtn = jQuery(\"#formNextSubmit\");\n  var currency = {\n    style: \"currency\",\n    currency: \"GBP\"\n  };\n  var bookedItems = jQuery(\"#bookedItems\");\n  var depPrices;\n  var riderPrice;\n  var riderPriceName;\n  var riderPriceID;\n  var spotsLeft;\n  var addRider;\n  var addPillion;\n  var checkbox;\n  tourSelect.change(function () {\n    departureInfo.css(\"display\", \"none\");\n    departureGroup.css(\"display\", \"none\");\n    departureNotices.html(\"\");\n    var tripId = tourSelect.val();\n    var tripData = {\n      'tripId': tripId,\n      'action': 'update_form'\n    };\n    jQuery.ajax({\n      type: 'POST',\n      url: dataUrl,\n      data: tripData\n    }).done(function (data) {\n      var obj = JSON.parse(data);\n      var departures = obj['Departures'];\n      var pillionFriendly = obj.PillonFriendly;\n      depList.html('<option value=\"\">Select Departure Date...</option>');\n      departures.forEach(function (item) {\n        var startDate = new Date(item['@attributes'].startDate);\n        var endDate = new Date(item['@attributes'].endDate);\n        var depID = item['@attributes'].id;\n\n        if (item['@attributes'].availableSpaces === \"0\") {\n          spotsLeft = \"SOLD OUT\";\n        } else {\n          spotsLeft = item['@attributes'].availableSpaces;\n        }\n\n        depList.append(jQuery('<option>', {\n          value: depID,\n          text: startDate.toDateString() + ' to ' + endDate.toDateString() + ' - Spots Left: ' + spotsLeft\n        }));\n      });\n\n      if (tripId === \"\") {\n        departureGroup.css(\"display\", \"none\");\n      } else {\n        departureGroup.css(\"display\", \"block\");\n      }\n\n      depList.change(function () {\n        // Remove all of our elements from the DOM if previously set.\n        tripPriceInfo.html(\"\");\n        departureNotices.html(\"\");\n        mainGuestExtras.html(\"\");\n        guestFormContainer.html(\"\");\n        guestFormNotices.html(\"\");\n        addGuest.html(\"\");\n        departureInfo.css(\"display\", \"none\");\n        formNextBtn.css(\"display\", \"inline\");\n        bookedItems.html(\"\");\n        var selectedDepartId = depList.val(); // Set the main departure GUID for the booking\n\n        jQuery('input[name=departure_guid]').val(selectedDepartId); // Check the ID of the selected departure and iterate over the prices for the main guest.\n\n        departures.forEach(function (item) {\n          if (item['@attributes'].id === selectedDepartId) {\n            spotsLeft = parseInt(item['@attributes'].availableSpaces);\n            jQuery(\"#availableSpaces\").text(spotsLeft);\n\n            if (spotsLeft === 0) {\n              departureInfo.css(\"display\", \"none\");\n              formNextBtn.css(\"display\", \"none\");\n              departureNotices.html('<div class=\"p15-message p15-message-error\">Sorry, this date is sold out. Please select another date or send us an email to enquire about cancellations for this date.</div>');\n              return;\n            }\n\n            depPrices = item['Prices']['Price'];\n            var c = 1;\n            depPrices.forEach(function (i) {\n              if (i['@attributes'].category === \"Rider Base Price\") {\n                // riderPrice = new Number(i['@attributes'].amount).toLocaleString(\"en-GB\", currency);\n                riderPrice = i['@attributes'].amount;\n                riderPriceName = i['@attributes'].name;\n                riderPriceID = i['@attributes'].id;\n                tripPriceInfo.append('<p><b>Rider Price:</b> <span id=\"riderPrice\">' + new Number(riderPrice).toLocaleString(\"en-GB\", currency) + '</span></p>'); // Add the booked rider price to the hidden form input field for the main guest\n\n                jQuery(\"#bookedRiderPrice\").val(riderPriceID);\n                jQuery(\".rider-form\").attr(\"data-price\", riderPrice);\n                jQuery(\".rider-form\").attr(\"data-price-name\", riderPriceName);\n                jQuery(\".rider-form\").attr(\"data-price-id\", riderPriceID); // Add the rider price item to the price totals\n                // bookedItems.append(\n                // \t'<tr>' +\n                // \t\t'<td id=\"bookingItem\" style=\"width: 60%;\"></td>' +\n                // \t\t'<td id=\"bookingQty\" style=\"width: 15%; text-align: center;\"></td>' +\n                // \t\t'<td id=\"bookingAmt\" style=\"width: 25%; text-align: right;\"></td>' +\n                // \t'</tr>'\n                // );\n                // bookingItem = jQuery(\"#bookingItem\");\n                // bookingQty \t= jQuery(\"#bookingQty\");\n                // bookingAmt \t= jQuery(\"#bookingAmt\");\n                // bookingItem.text(i['@attributes'].name);\n                // bookingQty.text(1);\n                // bookingAmt.text( riderPrice * parseInt(bookingQty.text()) );\n              }\n\n              if (i['@attributes'].category === \"Pillion Base Price\") {\n                var pillionPrice = i['@attributes'].amount;\n                tripPriceInfo.append('<p><b>Pillion Price:</b> <span id=\"pillionPrice\">' + new Number(pillionPrice).toLocaleString(\"en-GB\", currency) + '</span></p>');\n              }\n\n              if (i['@attributes'].category != \"Pillion Base Price\" && i['@attributes'].category != \"Rider Base Price\" && i['@attributes'].name != \"SRS - Pillion\") {\n                console.log(i['@attributes'].category + ': ' + i['@attributes'].name + ' - ' + i['@attributes'].amount); // Build the extras fields for the main guest\n\n                mainGuestExtras.append('<div class=\"extras-box\">' + '<input type=\"hidden\" name=\"p15_guests.contact.1.p15_vendorserviceitemres.' + c + '\" value=\"' + i['@attributes'].id + '\">' + '<input class=\"booking-extra\" type=\"checkbox\" value=\"' + i['@attributes'].id + '\" name=\"' + c + '\" data-price=\"' + i['@attributes'].amount + '\" data-price-name=\"' + i['@attributes'].name + '\" data-price-id=\"' + i['@attributes'].id + '\"> ' + i['@attributes'].name + ': ' + new Number(i['@attributes'].amount).toLocaleString(\"en-GB\", currency) + '</div>');\n                c++;\n              }\n            });\n            updateTotals();\n          }\n        });\n        depInfoPillion.text(pillionFriendly); // This function iterates over the prices for the selected departure and appends the extras to additional guests.\n\n        function setExtrasFields(n, t) {\n          n;\n          t;\n\n          switch (t) {\n            case \"pillion\":\n              // Code to run if case is \"Pillion\"\n              console.log(\"This is a pillion!\");\n              departures.forEach(function (item) {\n                if (item['@attributes'].id === selectedDepartId) {\n                  depPrices = item['Prices']['Price'];\n                  var c = 1;\n                  depPrices.forEach(function (i) {\n                    if (i['@attributes'].category != \"Pillion Base Price\" && i['@attributes'].category != \"Rider Base Price\" && i['@attributes'].category != \"Motorcycle Upgrade\" && i['@attributes'].category != \"Damage Excess Insurance\" && i['@attributes'].name != \"SRS - Rider\") {\n                      console.log(i['@attributes'].category + ': ' + i['@attributes'].name + ' - ' + i['@attributes'].amount); // Build the extras fields for the main guest\n\n                      jQuery('#guestExtras' + n + '').append('<div class=\"extras-box\">' + '<input type=\"hidden\" name=\"p15_guests.contact.' + n + '.p15_vendorserviceitemres.' + c + '\" value=\"' + i['@attributes'].id + '\">' + '<input class=\"booking-extra\" type=\"checkbox\" name=\"p15_guests.contact.' + n + '.p15_tripprices.' + c + '\" value=\"' + i['@attributes'].id + '\" data-price=\"' + i['@attributes'].amount + '\" data-price-name=\"' + i['@attributes'].name + '\" data-price-id=\"' + i['@attributes'].id + '\"> ' + i['@attributes'].name + ': ' + new Number(i['@attributes'].amount).toLocaleString(\"en-GB\", currency) + '</div>');\n                      c++;\n                    }\n\n                    if (i['@attributes'].category === \"Pillion Base Price\") {\n                      jQuery('.rider-form').attr('data-price-id', '' + i['@attributes'].id + '');\n                      jQuery('.pillion-form').attr('data-price-name', '' + i['@attributes'].name + '');\n                      jQuery('.pillion-form').attr('data-price', '' + i['@attributes'].amount + '');\n                    }\n                  });\n                }\n              });\n              break;\n\n            case \"rider\":\n              // Code to run of case is \"Rider\"\n              console.log(\"This is a rider!\");\n              departures.forEach(function (item) {\n                if (item['@attributes'].id === selectedDepartId) {\n                  depPrices = item['Prices']['Price'];\n                  var c = 1;\n                  depPrices.forEach(function (i) {\n                    if (i['@attributes'].category != \"Pillion Base Price\" && i['@attributes'].category != \"Rider Base Price\" && i['@attributes'].name != \"SRS - Pillion\") {\n                      console.log(i['@attributes'].category + ': ' + i['@attributes'].name + ' - ' + i['@attributes'].amount); // Build the extras fields for the main guest\n\n                      jQuery('#guestExtras' + n + '').append('<div class=\"extras-box\">' + '<input type=\"hidden\" name=\"p15_guests.contact.' + n + '.p15_vendorserviceitemres.' + c + '\" value=\"' + i['@attributes'].id + '\">' + '<input class=\"booking-extra\" type=\"checkbox\" name=\"p15_guests.contact.' + n + '.p15_tripprices.' + c + '\" value=\"' + i['@attributes'].id + '\" data-price=\"' + i['@attributes'].amount + '\" data-price-name=\"' + i['@attributes'].name + '\" data-price-id=\"' + i['@attributes'].id + '\"> ' + i['@attributes'].name + ': ' + new Number(i['@attributes'].amount).toLocaleString(\"en-GB\", currency) + '</div>');\n                      c++;\n                    }\n\n                    if (i['@attributes'].category === \"Rider Base Price\") {\n                      jQuery('.rider-form').attr('data-price-id', '' + i['@attributes'].id + '');\n                      jQuery('.rider-form').attr('data-price-name', '' + i['@attributes'].name + '');\n                      jQuery('.rider-form').attr('data-price', '' + i['@attributes'].amount + '');\n                    }\n                  });\n                }\n              });\n              break;\n          }\n        }\n\n        function updateTotals() {\n          // bookedItems.html(\"\");\n          // var bookedGuest\t= jQuery(\".guest-form\");\n          // bookedGuest.each(function() {\n          // \tvar guest\t= jQuery(this).children(\"h4.guest-title\").text();\n          // \tvar item \t= jQuery(this).attr(\"data-price-name\");\n          // \tvar price \t= jQuery(this).attr(\"data-price\");\n          // \t// Get all checkboxes in the guest form\n          // \tvar extras\t= jQuery(this)\n          // \tbookedItems.append(\n          // \t\t`<tr>\n          // \t\t\t<td class=\"guest\" colspan=3 style=\"width: 100%;\"><b>${guest}</b></td>\n          // \t\t</tr>\n          // \t\t<tr>\t\n          // \t\t\t<td class=\"bookingItem\" style=\"width: 60%;\">${item}</td>\n          // \t\t\t<td class=\"bookingQty\" style=\"width: 15%; text-align: center;\">1</td>\n          // \t\t\t<td class=\"bookingAmt\" style=\"width: 25%; text-align: right;\">${new Number(price).toLocaleString(\"en-GB\", currency)}</td>\n          // \t\t</tr>`\n          // \t);\n          // });\n          var bookedRider = jQuery(\".rider-form\");\n          var riderCount = bookedRider.length;\n          var bookedPillion = jQuery(\".pillion-form\");\n          var pillionCount = bookedPillion.length;\n          var bookingItem = jQuery(\".bookingItem\");\n          var itemName = bookingItem.text();\n          var bookedItems = jQuery(\"#bookedItems\");\n          var bookingTotal = jQuery(\"#bookingTotal\");\n          var currentTotal = 0;\n          bookedItems.html(\"\");\n\n          function addItem(item) {\n            if (item.length > 0) {\n              var count = item.length;\n              var price = parseInt(item.attr(\"data-price\"));\n              var name = item.attr(\"data-price-name\");\n              var id = item.attr(\"data-price-id\");\n              var total = price * count;\n              bookedItems.append(\"<tr>\\t\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t<td class=\\\"bookingItem\\\" style=\\\"width: 60%;\\\">\".concat(name, \"</td>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t<td class=\\\"bookingQty\\\" style=\\\"width: 15%; text-align: center;\\\">\").concat(count, \"</td>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t<td class=\\\"bookingAmt\\\" style=\\\"width: 25%; text-align: right;\\\">\").concat(new Number(total).toLocaleString(\"en-GB\", currency), \"</td>\\n\\t\\t\\t\\t\\t\\t\\t\\t</tr>\"));\n              currentTotal = currentTotal + total;\n              bookingTotal.text(new Number(currentTotal).toLocaleString(\"en-GB\", currency));\n            }\n          }\n\n          addItem(bookedRider);\n          addItem(bookedPillion);\n          var checked = jQuery(\".booking-extra:checkbox:checked\");\n          checked.each(function () {\n            var item = jQuery(this).attr(\"data-price-name\");\n            var price = jQuery(this).attr(\"data-price\");\n            console.log(item + ': ' + price);\n            bookedItems.append(\"<tr>\\t\\n\\t\\t\\t\\t\\t\\t\\t\\t<td class=\\\"bookingItem\\\" style=\\\"width: 60%;\\\">\".concat(item, \"</td>\\n\\t\\t\\t\\t\\t\\t\\t\\t<td class=\\\"bookingQty\\\" style=\\\"width: 15%; text-align: center;\\\">1</td>\\n\\t\\t\\t\\t\\t\\t\\t\\t<td class=\\\"bookingAmt\\\" style=\\\"width: 25%; text-align: right;\\\">\").concat(new Number(price).toLocaleString(\"en-GB\", currency), \"</td>\\n\\t\\t\\t\\t\\t\\t\\t</tr>\"));\n          });\n        } // Adds an event listener for the extras checkboxes\n\n\n        var extraCheckbox = jQuery('input[type=\"checkbox\"]');\n\n        function addExtras() {\n          extraCheckbox.click(function () {\n            updateTotals();\n          });\n        }\n\n        addExtras(); // If there are more than ONE available spaces on the selected departure,\n        // check if the tour is Pillion Friendly and append the \"Add Rider\" and or \"Add Pillion\" buttons ot the form.\n\n        if (pillionFriendly === \"Yes\" && spotsLeft > 1) {\n          // Display the \"Add Rider\" AND \"Add Pillion\" Buttons.\n          addGuest.html('<button class=\"p15-btn\" type=\"button\" id=\"addRider\"><i class=\"fas fa-plus-square\" style=\"margin-right:0.25rem;\"></i> Add Rider</button>' + '<button class=\"p15-btn\" type=\"button\" id=\"addPillion\"><i class=\"fas fa-plus-square\" style=\"margin-right:0.25rem;\"></i> Add Pillon</button>');\n          addRider = jQuery(\"#addRider\");\n          addPillion = jQuery(\"#addPillion\");\n          var n = 2; // Display the \"Add Rider\" button\n\n          addRider.click(function () {\n            if (n <= spotsLeft) {\n              console.log('Counter: ' + n + '. Spots Left: ' + spotsLeft); // Append the Rider guest form fields\n\n              guestFormContainer.append('<div id=\"guest' + n + '\" class=\"guest-form rider-form\" data-price=\"\" data-price-name=\"\">' + '<h4 class=\"guest-title\">Guest ' + n + ' (Rider)</h4>' + '<input type=\"hidden\" name=\"p15_guests.contact.' + n + '.isClient\" value=\"true\">' + '<input type=\"hidden\" id=\"bookedRiderPrice' + n + '\" name=\"p15_guests.contact.' + n + '.p15_tripprices.1\" value=\"\">' + // Set samehousehold to FALSE:\n              '<input type=\"hidden\" name=\"p15_guests.contact.' + n + '.samehousehold\" value=\"false\">' + '<!-- FIRST NAME -->' + '<div id=\"firstname-group\" class=\"p15-input-group\">' + '<input type=\"text\" class=\"p15-input-control\" name=\"firstname\" placeholder=\"First name...\" oninput=\"clearError(this)\">' + '<!-- errors will go here -->' + '</div>' + '<!-- LAST NAME -->' + '<div id=\"lastname-group\" class=\"p15-input-group\">' + '<input type=\"text\" class=\"p15-input-control\" name=\"lastname\" placeholder=\"Last name...\" oninput=\"clearError(this)\">' + '<!-- errors will go here -->' + '</div>' + '<div id=\"rider-fields' + n + '\">' + '<!-- LICENSE -->' + '<div id=\"licensetype-group\" class=\"p15-input-group\">' + '<label for=\"rideexp_motorcyclelicensetype\" style=\"display:none\">Motorcycle License Type <span style=\"color:red\">*</span></label>' + '<select class=\"p15-input-control\" name=\"rideexp_motorcyclelicensetype\" oninput=\"clearError(this)\">' + '<option value=\"\">License Type</option>' + '<option value=\"No License\">No License</option>' + '<option value=\"Restricted\">Restricted</option>' + '<option value=\"Unrestricted\">Unrestricted</option>' + '</select>' + '</div>' + '<!-- errors will go here -->' + '<!-- ROAD RIDING LEVEL -->' + '<div id=\"levelroad-group\" class=\"p15-input-group\">' + '<label for=\"rideexp_roadridinglevel\" style=\"display:none\">Road Riding Level <span style=\"color:red\">*</span></label>' + '<select class=\"p15-input-control\" name=\"rideexp_roadridinglevel\" oninput=\"clearError(this)\">' + '<option value=\"\">Road Riding Level</option>' + '<option value=\"Beginner\">Beginner</option>' + '<option value=\"Novice\">Novice</option>' + '<option value=\"Competent\">Competent</option>' + '<option value=\"Advanced\">Advanced</option>' + '<option value=\"Valentino Rossi\">Valentino Rossi</option>' + '</select>' + '</div>' + '<!-- errors will go here -->' + '<!-- OFFROAD RIDING LEVEL -->' + '<div id=\"leveloffroad-group\" class=\"p15-input-group\">' + '<label for=\"rideexp_offroadridinglevel\" style=\"display:none\">Off-Road Riding Level <span style=\"color:red\">*</span></label>' + '<select class=\"p15-input-control\" name=\"rideexp_offroadridinglevel\" oninput=\"clearError(this)\">' + '<option value=\"\">Off-Road Riding Level</option>' + '<option value=\"Beginner\">Beginner</option>' + '<option value=\"Novice\">Novice</option>' + '<option value=\"Competent\">Competent</option>' + '<option value=\"Advanced\">Advanced</option>' + '<option value=\"Graham Jarvis\">Graham Jarvis</option>' + '</select>' + '</div>' + '<!-- errors will go here -->' + '<!-- EXTRAS -->' + '<h4>Extras:</h4>' + '<div id=\"guestExtras' + n + '\" class=\"p15-checkbox-group extras-area\">' + // setExtrasFields\n              '</div>' + '</div>' + '</div>');\n              setExtrasFields(n, \"rider\");\n              updateTotals();\n              n++;\n            }\n\n            if (n > spotsLeft) {\n              guestFormNotices.html('<div class=\"p15-message p15-message-error\"><small>Max number of guests reached for this tour.</small></div>');\n            }\n\n            extraCheckbox = jQuery('input[type=\"checkbox\"]');\n            addExtras();\n          }); // Display the \"Add Pillion\" button\n\n          addPillion.click(function () {\n            if (n <= spotsLeft) {\n              console.log('Counter: ' + n + '. Spots Left: ' + spotsLeft); // Append the Rider guest form fields\n\n              guestFormContainer.append('<div id=\"guest' + n + '\" class=\"guest-form pillion-form\" data-price=\"\" data-price-name=\"\">' + '<h4 class=\"guest-title\">Guest ' + n + ' (Pillion)</h4>' + '<input type=\"hidden\" name=\"p15_guests.contact.' + n + '.isClient\" value=\"true\">' + '<input type=\"hidden\" id=\"bookedPillionPrice' + n + '\" class=\"cost-item-pillion\" name=\"p15_guests.contact.' + n + '.p15_tripprices.1\" value=\"\">' + // Set samehousehold to FALSE:\n              '<input type=\"hidden\" name=\"p15_guests.contact.' + n + '.samehousehold\" value=\"false\">' + '<!-- FIRST NAME -->' + '<div id=\"firstname-group\" class=\"p15-input-group\">' + '<input type=\"text\" class=\"p15-input-control\" name=\"firstname\" placeholder=\"First name...\" oninput=\"clearError(this)\">' + '<!-- errors will go here -->' + '</div>' + '<!-- LAST NAME -->' + '<div id=\"lastname-group\" class=\"p15-input-group\">' + '<input type=\"text\" class=\"p15-input-control\" name=\"lastname\" placeholder=\"Last name...\" oninput=\"clearError(this)\">' + '<!-- errors will go here -->' + '</div>' + '<!-- EXTRAS -->' + '<h4>Extras:</h4>' + '<div id=\"guestExtras' + n + '\" class=\"p15-checkbox-group extras-area\">' + // setExtrasFields\n              '</div>' + '</div>');\n              setExtrasFields(n, \"pillion\");\n              updateTotals();\n              n++;\n            }\n\n            if (n > spotsLeft) {\n              guestFormNotices.html('<div class=\"p15-message p15-message-error\"><small>Max number of guests reached for this tour.</small></div>');\n            }\n\n            extraCheckbox = jQuery('input[type=\"checkbox\"]');\n            addExtras();\n          });\n        } else if (pillionFriendly === \"No\" && spotsLeft > 1) {\n          // Just display the \"Add Rider\" button.\n          addGuest.html('<button class=\"p15-btn\" type=\"button\" id=\"addRider\"><i class=\"fas fa-plus-square\" style=\"margin-right:0.25rem;\"></i> Add Rider</button>');\n          addRider = jQuery(\"#addRider\");\n          var n = 2;\n          addRider.click(function () {\n            if (n <= spotsLeft) {\n              console.log('Counter: ' + n + '. Spots Left: ' + spotsLeft); // Append the Rider guest form fields\n\n              guestFormContainer.append('<div id=\"guest' + n + '\" class=\"guest-form rider-form\" data-price=\"\" data-price-name=\"\">' + '<h4 class=\"guest-title\">Guest ' + n + ' (Rider)</h4>' + '<input type=\"hidden\" name=\"p15_guests.contact.' + n + '.isClient\" value=\"true\">' + '<input type=\"hidden\" id=\"bookedRiderPrice' + n + '\" name=\"p15_guests.contact.' + n + '.p15_tripprices.1\" value=\"\">' + // Set samehousehold to FALSE:\n              '<input type=\"hidden\" name=\"p15_guests.contact.' + n + '.samehousehold\" value=\"false\">' + '<!-- FIRST NAME -->' + '<div id=\"firstname-group\" class=\"p15-input-group\">' + '<input type=\"text\" class=\"p15-input-control\" name=\"firstname\" placeholder=\"First name...\" oninput=\"clearError(this)\">' + '<!-- errors will go here -->' + '</div>' + '<!-- LAST NAME -->' + '<div id=\"lastname-group\" class=\"p15-input-group\">' + '<input type=\"text\" class=\"p15-input-control\" name=\"lastname\" placeholder=\"Last name...\" oninput=\"clearError(this)\">' + '<!-- errors will go here -->' + '</div>' + '<div id=\"rider-fields' + n + '\">' + '<!-- LICENSE -->' + '<div id=\"licensetype-group\" class=\"p15-input-group\">' + '<label for=\"rideexp_motorcyclelicensetype\" style=\"display:none\">Motorcycle License Type <span style=\"color:red\">*</span></label>' + '<select class=\"p15-input-control\" name=\"rideexp_motorcyclelicensetype\" oninput=\"clearError(this)\">' + '<option value=\"\">License Type</option>' + '<option value=\"No License\">No License</option>' + '<option value=\"Restricted\">Restricted</option>' + '<option value=\"Unrestricted\">Unrestricted</option>' + '</select>' + '</div>' + '<!-- errors will go here -->' + '<!-- ROAD RIDING LEVEL -->' + '<div id=\"levelroad-group\" class=\"p15-input-group\">' + '<label for=\"rideexp_roadridinglevel\" style=\"display:none\">Road Riding Level <span style=\"color:red\">*</span></label>' + '<select class=\"p15-input-control\" name=\"rideexp_roadridinglevel\" oninput=\"clearError(this)\">' + '<option value=\"\">Road Riding Level</option>' + '<option value=\"Beginner\">Beginner</option>' + '<option value=\"Novice\">Novice</option>' + '<option value=\"Competent\">Competent</option>' + '<option value=\"Advanced\">Advanced</option>' + '<option value=\"Valentino Rossi\">Valentino Rossi</option>' + '</select>' + '</div>' + '<!-- errors will go here -->' + '<!-- OFFROAD RIDING LEVEL -->' + '<div id=\"leveloffroad-group\" class=\"p15-input-group\">' + '<label for=\"rideexp_offroadridinglevel\" style=\"display:none\">Off-Road Riding Level <span style=\"color:red\">*</span></label>' + '<select class=\"p15-input-control\" name=\"rideexp_offroadridinglevel\" oninput=\"clearError(this)\">' + '<option value=\"\">Off-Road Riding Level</option>' + '<option value=\"Beginner\">Beginner</option>' + '<option value=\"Novice\">Novice</option>' + '<option value=\"Competent\">Competent</option>' + '<option value=\"Advanced\">Advanced</option>' + '<option value=\"Graham Jarvis\">Graham Jarvis</option>' + '</select>' + '</div>' + '<!-- errors will go here -->' + '<!-- EXTRAS -->' + '<h4>Extras:</h4>' + '<div id=\"guestExtras' + n + '\" class=\"p15-checkbox-group extras-area\">' + // setExtrasFields\n              '</div>' + '</div>' + '</div>');\n              setExtrasFields(n, \"rider\");\n              n++;\n            }\n\n            if (n > spotsLeft) {\n              guestFormNotices.html('<div class=\"p15-message p15-message-error\"><small>Max number of guests reached for this tour.</small></div>');\n            }\n\n            extraCheckbox = jQuery('input[type=\"checkbox\"]');\n            addExtras();\n          });\n        } else {\n          guestFormNotices.html('<div class=\"p15-message p15-message-warn\"><small><b>Please Note:</b> This is the last spot available for this date.</small></div>');\n        }\n\n        if (depList === \"\") {\n          departureInfo.css(\"display\", \"none\");\n        } else {\n          departureInfo.css(\"display\", \"block\");\n        } // Add a function here to add all guest items and prices to the totals section.\n        // var bookedItems = jQuery(\"#bookedItems\");\n        // var item\t\t= \"Riders\";\n        // var amount \t\t= 7295.00;\n        // var quantity\t= 3;\n        // bookedItems.append(\n        // \t'<tr>' +\n        // \t\t'<td style=\"width: 60%;\">' + item + '</td>' +\n        // \t\t'<td style=\"width: 15%; text-align: center;\">' + quantity + '</td>' +\n        // \t\t'<td style=\"width: 25%; text-align: right;\">' + new Number(amount * quantity).toLocaleString(\"en-GB\", currency) + '</td>' +\n        // \t'</tr>'\n        // );\n\n      });\n    }).fail(function (data) {\n      console.log(\"Error\");\n    });\n  }); // process the form\n\n  jQuery('#peak-15-form').submit(function (event) {\n    jQuery('#formNextSubmit').attr(\"disabled\", \"disabled\");\n    jQuery('.form-group').removeClass('p15-error'); // remove the error class\n\n    jQuery('.p15-input-notif').remove(); // remove the error text\n    // get the form data\n    // Check which form is being submitted by checking the ID of the form\n    // Then set the formData Varibable to the inputs contained in the form\n\n    console.log('Booking Form submitted.'); // Attach the form data to a variable as an array.\n\n    var formData = {\n      // Hidden Values\n      'formname': jQuery('input[name=formname]').val(),\n      'pagename': jQuery('input[name=pagename]').val(),\n      'statuscode': jQuery('input[name=statuscode]').val(),\n      'rule': jQuery('input[name=rule]').val(),\n      'ruletype': jQuery('input[name=ruletype]').val(),\n      'contacttype': jQuery('input[name=contacttype]').val(),\n      'action': jQuery('input[name=action]').val(),\n      // User Inputs\n      // Contact Record Fields\n      'firstname': jQuery('input[name=firstname]').val(),\n      'lastname': jQuery('input[name=lastname]').val(),\n      'email': jQuery('input[name=email]').val(),\n      'telephone1': jQuery('input[name=telephone1]').val(),\n      'rideexp_motorcyclelicensetype': jQuery('select[name=rideexp_motorcyclelicensetype]').val(),\n      'rideexp_licenseheldsince': jQuery('input[name=rideexp_licenseheldsince]').val(),\n      'rideexp_roadridinglevel': jQuery('select[name=rideexp_roadridinglevel]').val(),\n      'rideexp_offroadridinglevel': jQuery('select[name=rideexp_offroadridinglevel]').val()\n    };\n    console.log(formData); // process the form\n\n    jQuery.ajax({\n      type: 'POST',\n      // define the type of HTTP verb we want to use (POST for our form)\n      url: dataUrl,\n      // the url where we want to POST\n      data: formData,\n      // our data object\n      dataType: 'json',\n      // what type of data do we expect back from the server\n      encode: true\n    }) // using the done promise callback\n    .done(function (data) {\n      // log data to the console so we can see\n      console.log(data); // here we will handle errors and validation messages\n\n      if (!data.success) {\n        jQuery('#formNextSubmit').removeAttr(\"disabled\", \"disabled\"); // handle validation errors ---------------\n\n        if (data.errors.validation) {\n          jQuery('#peak-15-form').html('<div class=\"p15-message p15-message-error\"><b>' + data.errors.validation + '</b><br>' + data.message + '</div>');\n        } // handle errors for firstname ---------------\n\n\n        if (data.errors.firstname) {\n          jQuery('#firstname-group').addClass('p15-error'); // add the error class to show red input\n\n          jQuery('#firstname-group').append('<div class=\"p15-input-notif\"><small>' + data.errors.firstname + '</small></div>'); // add the actual error message under our input\n        } // handle errors for last name ---------------\n\n\n        if (data.errors.lastname) {\n          jQuery('#lastname-group').addClass('p15-error'); // add the error class to show red input\n\n          jQuery('#lastname-group').append('<div class=\"p15-input-notif\"><small>' + data.errors.lastname + '</small></div>'); // add the actual error message under our input\n        } // handle errors for email ---------------\n\n\n        if (data.errors.email) {\n          jQuery('#email-group').addClass('p15-error'); // add the error class to show red input\n\n          jQuery('#email-group').append('<div class=\"p15-input-notif\"><small>' + data.errors.email + '</small></div>'); // add the actual error message under our input\n        } // handle errors for telephone1 ---------------\n\n\n        if (data.errors.telephone1) {\n          jQuery('#phone-group').addClass('p15-error'); // add the error class to show red input\n\n          jQuery('#phone-group').append('<div class=\"p15-input-notif\"><small>' + data.errors.telephone1 + '</small></div>'); // add the actual error message under our input\n        } // handle errors for group size ---------------\n\n\n        if (data.errors.p15_groupsize) {\n          jQuery('#groupsize-group').addClass('p15-error'); // add the error class to show red input\n\n          jQuery('#groupsize-group').append('<div class=\"p15-input-notif\"><small>' + data.errors.p15_groupsize + '</small></div>'); // add the actual error message under our input\n        } // handle errors for rideexp_motorcyclelicensetype ---------------\n\n\n        if (data.errors.rideexp_motorcyclelicensetype) {\n          jQuery('#licensetype-group').addClass('p15-error'); // add the error class to show red input\n\n          jQuery('#licensetype-group').append('<div class=\"p15-input-notif\"><small>' + data.errors.rideexp_motorcyclelicensetype + '</small></div>'); // add the actual error message under our input\n        } // handle errors for rideexp_licenseheldsince ---------------\n\n\n        if (data.errors.rideexp_licenseheldsince) {\n          jQuery('#licensesince-group').addClass('p15-error'); // add the error class to show red input\n\n          jQuery('#licensesince-group').append('<div class=\"p15-input-notif\"><small>' + data.errors.rideexp_licenseheldsince + '</small></div>'); // add the actual error message under our input\n        } // handle errors for rideexp_roadridinglevel ---------------\n\n\n        if (data.errors.rideexp_roadridinglevel) {\n          jQuery('#levelroad-group').addClass('p15-error'); // add the error class to show red input\n\n          jQuery('#levelroad-group').append('<div class=\"p15-input-notif\"><small>' + data.errors.rideexp_roadridinglevel + '</small></div>'); // add the actual error message under our input\n        } // handle errors for rideexp_offroadridinglevel ---------------\n\n\n        if (data.errors.rideexp_offroadridinglevel) {\n          jQuery('#leveloffroad-group').addClass('p15-error'); // add the error class to show red input\n\n          jQuery('#leveloffroad-group').append('<div class=\"p15-input-notif\"><small>' + data.errors.rideexp_offroadridinglevel + '</small></div>'); // add the actual error message under our input\n        }\n      } else {\n        // ALL GOOD! just show the success message!\n        jQuery('#peak-15-form').html('<div class=\"p15-message p15-message-success\">' + data.message + '</div>');\n      }\n    }) // using the fail promise callback\n    .fail(function (data) {\n      // Server failed to respond - Show an error message\n      jQuery('#peak-15-form').html('<div class=\"p15-message p15-message-error\">Sorry, your form was not sent, please try again later.</div>');\n    }); // stop the form from submitting the normal way and refreshing the page\n\n    event.preventDefault();\n  });\n});\n\n},{}]},{},[1]);\n"],"names":["r","e","n","t","o","i","f","c","require","u","a","Error","code","p","exports","call","length","1","module","jQuery","document","ready","depPrices","riderPrice","riderPriceName","riderPriceID","spotsLeft","addRider","addPillion","dataUrl","data","tourSelect","departureGroup","depList","departureInfo","departureNotices","depInfoPillion","tripPriceInfo","mainGuestExtras","guestFormContainer","guestFormNotices","addGuest","formNextBtn","currency","style","bookedItems","change","css","html","tripId","val","tripData","action","ajax","type","url","done","obj","JSON","parse","departures","pillionFriendly","PillonFriendly","forEach","item","startDate","Date","endDate","depID","id","availableSpaces","append","value","text","toDateString","selectedDepartId","setExtrasFields","console","log","category","name","amount","Number","toLocaleString","attr","updateTotals","bookedRider","bookedPillion","bookingTotal","currentTotal","addItem","count","total","price","parseInt","concat","each","this","pillionPrice","extraCheckbox","addExtras","click","fail","submit","event","removeClass","remove","formData","formname","pagename","statuscode","rule","ruletype","contacttype","firstname","lastname","email","telephone1","rideexp_motorcyclelicensetype","rideexp_licenseheldsince","rideexp_roadridinglevel","rideexp_offroadridinglevel","dataType","encode","success","message","removeAttr","errors","validation","addClass","p15_groupsize","preventDefault"],"mappings":"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"}