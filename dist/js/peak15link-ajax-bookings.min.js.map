{"version":3,"file":"peak15link-ajax-bookings.min.js","sources":["peak15link-ajax-bookings.min.js"],"sourcesContent":["(function(){function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c=\"function\"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);var a=new Error(\"Cannot find module '\"+i+\"'\");throw a.code=\"MODULE_NOT_FOUND\",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(r){var n=e[i][1][r];return o(n||r)},p,p.exports,r,e,n,t)}return n[i].exports}for(var u=\"function\"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}return r})()({1:[function(require,module,exports){\n\"use strict\";\n\njQuery(document).ready(function () {\n  jQuery(\"#tourSelect\").change(function () {\n    var tourSelect = document.getElementById(\"tourSelect\");\n    var tourGUID = tourSelect.value;\n    var departureGroup = document.getElementById(\"departureGroup\");\n\n    if (tourSelect.value === \"\") {\n      departureGroup.style.display = 'none';\n      document.getElementById(\"testJsValue\").innerHTML = \"\";\n    } else {\n      departureGroup.style.display = 'block';\n      document.getElementById(\"testJsValue\").innerHTML = tourGUID;\n    }\n\n    jQuery.ajax({\n      type: 'GET',\n      // define the type of HTTP verb we want to use (POST for our form)\n      url: dataUrl,\n      // the url where we want to POST\n      data: formData,\n      // our data object\n      dataType: 'json',\n      // what type of data do we expect back from the server\n      encode: true\n    });\n  }); // process the form\n\n  jQuery('#peak-15-form').submit(function (event) {\n    jQuery('#formNextSubmit').attr(\"disabled\", \"disabled\");\n    jQuery('.form-group').removeClass('p15-error'); // remove the error class\n\n    jQuery('.p15-input-notif').remove(); // remove the error text\n    // get the form data\n    // Check which form is being submitted by checking the ID of the form\n    // Then set the formData Varibable to the inputs contained in the form\n\n    console.log('Booking Form submitted.'); // Attach the form data to a variable as an array.\n\n    var formData = {\n      // Hidden Values\n      'formname': jQuery('input[name=formname]').val(),\n      'pagename': jQuery('input[name=pagename]').val(),\n      'statuscode': jQuery('input[name=statuscode]').val(),\n      'rule': jQuery('input[name=rule]').val(),\n      'ruletype': jQuery('input[name=ruletype]').val(),\n      'contacttype': jQuery('input[name=contacttype]').val(),\n      'action': jQuery('input[name=action]').val(),\n      // User Inputs\n      // Contact Record Fields\n      'firstname': jQuery('input[name=firstname]').val(),\n      'lastname': jQuery('input[name=lastname]').val(),\n      'email': jQuery('input[name=email]').val(),\n      'telephone1': jQuery('input[name=telephone1]').val(),\n      'rideexp_motorcyclelicensetype': jQuery('select[name=rideexp_motorcyclelicensetype]').val(),\n      'rideexp_licenseheldsince': jQuery('input[name=rideexp_licenseheldsince]').val(),\n      'rideexp_roadridinglevel': jQuery('select[name=rideexp_roadridinglevel]').val(),\n      'rideexp_offroadridinglevel': jQuery('select[name=rideexp_offroadridinglevel]').val()\n    };\n    console.log(formData); // process the form\n\n    jQuery.ajax({\n      type: 'POST',\n      // define the type of HTTP verb we want to use (POST for our form)\n      url: dataUrl,\n      // the url where we want to POST\n      data: formData,\n      // our data object\n      dataType: 'json',\n      // what type of data do we expect back from the server\n      encode: true\n    }) // using the done promise callback\n    .done(function (data) {\n      // log data to the console so we can see\n      console.log(data); // here we will handle errors and validation messages\n\n      if (!data.success) {\n        jQuery('#formNextSubmit').removeAttr(\"disabled\", \"disabled\"); // handle validation errors ---------------\n\n        if (data.errors.validation) {\n          jQuery('#peak-15-form').html('<div class=\"p15-message p15-message-error\"><b>' + data.errors.validation + '</b><br>' + data.message + '</div>');\n        } // handle errors for firstname ---------------\n\n\n        if (data.errors.firstname) {\n          jQuery('#firstname-group').addClass('p15-error'); // add the error class to show red input\n\n          jQuery('#firstname-group').append('<div class=\"p15-input-notif\"><small>' + data.errors.firstname + '</small></div>'); // add the actual error message under our input\n        } // handle errors for last name ---------------\n\n\n        if (data.errors.lastname) {\n          jQuery('#lastname-group').addClass('p15-error'); // add the error class to show red input\n\n          jQuery('#lastname-group').append('<div class=\"p15-input-notif\"><small>' + data.errors.lastname + '</small></div>'); // add the actual error message under our input\n        } // handle errors for email ---------------\n\n\n        if (data.errors.email) {\n          jQuery('#email-group').addClass('p15-error'); // add the error class to show red input\n\n          jQuery('#email-group').append('<div class=\"p15-input-notif\"><small>' + data.errors.email + '</small></div>'); // add the actual error message under our input\n        } // handle errors for telephone1 ---------------\n\n\n        if (data.errors.telephone1) {\n          jQuery('#phone-group').addClass('p15-error'); // add the error class to show red input\n\n          jQuery('#phone-group').append('<div class=\"p15-input-notif\"><small>' + data.errors.telephone1 + '</small></div>'); // add the actual error message under our input\n        } // handle errors for group size ---------------\n\n\n        if (data.errors.p15_groupsize) {\n          jQuery('#groupsize-group').addClass('p15-error'); // add the error class to show red input\n\n          jQuery('#groupsize-group').append('<div class=\"p15-input-notif\"><small>' + data.errors.p15_groupsize + '</small></div>'); // add the actual error message under our input\n        } // handle errors for rideexp_motorcyclelicensetype ---------------\n\n\n        if (data.errors.rideexp_motorcyclelicensetype) {\n          jQuery('#licensetype-group').addClass('p15-error'); // add the error class to show red input\n\n          jQuery('#licensetype-group').append('<div class=\"p15-input-notif\"><small>' + data.errors.rideexp_motorcyclelicensetype + '</small></div>'); // add the actual error message under our input\n        } // handle errors for rideexp_licenseheldsince ---------------\n\n\n        if (data.errors.rideexp_licenseheldsince) {\n          jQuery('#licensesince-group').addClass('p15-error'); // add the error class to show red input\n\n          jQuery('#licensesince-group').append('<div class=\"p15-input-notif\"><small>' + data.errors.rideexp_licenseheldsince + '</small></div>'); // add the actual error message under our input\n        } // handle errors for rideexp_roadridinglevel ---------------\n\n\n        if (data.errors.rideexp_roadridinglevel) {\n          jQuery('#levelroad-group').addClass('p15-error'); // add the error class to show red input\n\n          jQuery('#levelroad-group').append('<div class=\"p15-input-notif\"><small>' + data.errors.rideexp_roadridinglevel + '</small></div>'); // add the actual error message under our input\n        } // handle errors for rideexp_offroadridinglevel ---------------\n\n\n        if (data.errors.rideexp_offroadridinglevel) {\n          jQuery('#leveloffroad-group').addClass('p15-error'); // add the error class to show red input\n\n          jQuery('#leveloffroad-group').append('<div class=\"p15-input-notif\"><small>' + data.errors.rideexp_offroadridinglevel + '</small></div>'); // add the actual error message under our input\n        }\n      } else {\n        // ALL GOOD! just show the success message!\n        jQuery('#peak-15-form').html('<div class=\"p15-message p15-message-success\">' + data.message + '</div>');\n      }\n    }) // using the fail promise callback\n    .fail(function (data) {\n      // Server failed to respond - Show an error message\n      jQuery('#peak-15-form').html('<div class=\"p15-message p15-message-error\">Sorry, your form was not sent, please try again later.</div>');\n    }); // stop the form from submitting the normal way and refreshing the page\n\n    event.preventDefault();\n  });\n});\n\n},{}]},{},[1]);\n"],"names":["r","e","n","t","o","i","f","c","require","u","a","Error","code","p","exports","call","length","1","module","jQuery","document","ready","change","tourSelect","getElementById","tourGUID","value","departureGroup","style","display","innerHTML","ajax","type","url","dataUrl","data","formData","dataType","encode","submit","event","attr","removeClass","remove","console","log","formname","val","pagename","statuscode","rule","ruletype","contacttype","action","firstname","lastname","email","telephone1","rideexp_motorcyclelicensetype","rideexp_licenseheldsince","rideexp_roadridinglevel","rideexp_offroadridinglevel","done","success","html","message","removeAttr","errors","validation","addClass","append","p15_groupsize","fail","preventDefault"],"mappings":"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"}